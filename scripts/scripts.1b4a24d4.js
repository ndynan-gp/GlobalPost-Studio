"use strict";var app=angular.module("gpStudioApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]);app.config(["$sceDelegateProvider",function(a){a.resourceUrlWhitelist(["self","*://player.vimeo.com/**","*://lorempixel.com/**"])}]),app.factory("imageDataService",function(){var a={};return a.images=[{thumbnail:"http://i.vimeocdn.com/video/482575749_960.jpg",gif:"images/trash.gif",video:"100809340",videoDescription:"At Jardim Gramacho, Latin America`s largest landfill, researchers are finding novel ways of turning trash into energy. “Powerland,” our branded video series for Shell, won a Society of American Business Editors and Writers (SABEW) award for creativity as well as an IMA Outstanding Achievement award with a score of 475."},{thumbnail:"https://i.vimeocdn.com/video/482575995_960.jpg",gif:"images/jungle.gif",video:"100809339",videoDescription:"Like many developing countries, Guatemala suffers from a serious problem: a lack of electricity that leaves many poor and rural villages in complete darkness. Enter energy entrepreneur Manuel Aguilar, whose company Quetsol has found a way to capture sunlight with simple solar photovoltaic panels."},{thumbnail:"http://i.vimeocdn.com/video/482575579_960.jpg",gif:"images/solar.gif",video:"100809338",videoDescription:'"The more you fly the more enegery reserve you have." A solar-powered plane completes its first intercontinental voyage. This video is part of our "Accelerate" branded video series supported by Bombardier.'}],a}),angular.module("gpStudioApp").controller("MainCtrl",["$log","$scope",function(){}]),angular.module("gpStudioApp").controller("VideoCtrl",["$log","$scope","imageDataService",function(a,b,c){this.gallery=c.images,this.image=null,this.showVideo=function(a){this.image=a},this.hideVideo=function(){this.image=null}}]),app.directive("fullPage",["$log","$window","$swipe",function(a,b,c){var d;return{restrict:"A",controller:function(){this.moveDown=function(){d.moveDown()}},link:function(b,e){d=e;var f=function(){e.onepage_scroll({sectionContainer:"section",responsiveFallback:!1,pagination:!0,animationTime:1e3,easing:"ease",updateURL:!1})};f();var g;c.bind(e,{start:function(a){g=a.y},end:function(){},cancel:function(b){var c=b.originalEvent.touches;if(c&&c.length){var d=g-c[0].pageY;a.debug(g),a.debug(d),d>0&&e.moveDown(),0>d&&e.moveUp(),b.preventDefault()}}})}}}]),app.directive("fullPageDown",function(){return{restrict:"A",require:"^fullPage",link:function(a,b,c,d){b.on("click",function(){d.moveDown()})}}}),app.directive("hoverPreview",function(){return{restrict:"A",scope:{image:"=hoverPreview"},template:'<a class="gps_video_grid-item-link" ng-click="videoCtrl.showVideo(image)" style="background-image: url({{image.thumbnail}})" href=""><img class="gps_video-preview" style="background-image: url({{image.thumbnail}})" data-static="{{image.thumbnail}}" data-animated="{{image.gif}}"/ ></a><span class="gps_video_grid-item-summary">{{image.videoDescription}}</span>',link:function(a,b){var c=b.find("img");b.mouseenter(function(){var a=c,d=c.attr("data-animated");b.addClass("hovering"),b.hasClass("hovering")&&a.css("background-image","url("+d+")")}),b.mouseleave(function(){var a=c,d=c.attr("data-static");b.removeClass("hovering"),a.css("background-image","url("+d+")")})}}}),app.directive("vimeoPlayer",["$sce",function(a){return{restrict:"A",scope:{},replace:!0,templateUrl:"views/vimeoPlayer.html",link:function(b,c,d){d.$observe("vimeoPlayer",function(b){var d=a.getTrustedResourceUrl("//player.vimeo.com/video/"+b+"?autoplay=1");b?c.attr("src",d):c.removeAttr("src")})}}}]),app.directive("sly",["$window","$log",function(a){var b={horizontal:1,itemNav:"forceCentered",smart:1,activateMiddle:1,mouseDragging:1,touchDragging:1,releaseSwing:1,startAt:0,scrollBy:1,speed:300,elasticBounds:1,easing:"swing",dragHandle:1,dynamicHandle:1,clickBar:1,prev:$(".gps_prev"),next:$(".gps_next")};return{restrict:"A",link:function(c,d){var e=new Sly(d[0],b).init();angular.element(a).bind("resize",function(){e.destroy(),d.find(".gps_video_grid--mobile-inner").css("width","300%"),e.init()})}}}]),app.directive("slyItems",["$sce",function(a){var b=function(b,c){if(c){var d=a.getTrustedResourceUrl("//player.vimeo.com/video/"+c.video);b.attr("src",d)}else b.removeAttr("src")};return{restrict:"A",scope:{image:"=slyItems"},template:'<span class="gps_video_grid-item-cover"><iframe width="100%" height="100%" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></span>',link:function(a,c){var d=c.find("iframe");b(d,a.image)}}}]);